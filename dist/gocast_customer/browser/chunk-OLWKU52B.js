import{a as q}from"./chunk-LG2M76ZC.js";import{b as x,c as l,d as _,e as F,f as M,g as y,h as O,i as E,j as P}from"./chunk-VEUFIKNG.js";import{A as b,G as s,I as e,J as t,K as r,M as u,O as i,Y as h,_ as S,a as v,aa as C,x as m,z as c}from"./chunk-RV3J3NET.js";import{a as f,b as g}from"./chunk-2NFLSA4Y.js";var D=class p{constructor(a,n,o,d){this.fb=a;this.router=n;this.route=o;this.serviceService=d;this.requestForm=this.fb.group({name:["",l.required],vehicle:["",l.required],plate:["",l.required],location:[""],phone:["",l.required],additionalInfo:[""]})}requestForm;subscription=new v;selectedService=null;ngOnInit(){this.subscription=this.route.params.subscribe(a=>{let n=a.id;if(n){let o=this.serviceService.getServiceById(n);this.selectedService=o||null}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}goBack(){this.router.navigate(["/services/roadside"])}useCurrentLocation(){this.requestForm.patchValue({location:"Ubicaci\xF3n actual"})}onSubmit(){if(this.requestForm.valid){let a=g(f({},this.requestForm.value),{serviceId:this.selectedService?.id||"",serviceType:this.selectedService?.title||"",status:"pending",timestamp:new Date().toISOString()});this.router.navigate(["/services/request-detail"],{state:{serviceRequest:a}})}}static \u0275fac=function(n){return new(n||p)(c(E),c(C),c(S),c(q))};static \u0275cmp=b({type:p,selectors:[["app-service-request-form"]],decls:61,vars:3,consts:[[1,"service-page"],[1,"header"],[1,"header-content"],["src","assets/images/logob.png","alt","GoCast Logo",1,"header-logo"],[1,"main-content"],[1,"navigation-section"],[1,"back-button",3,"click"],[1,"back-icon"],[1,"section-title"],["href","tel:+00000000000",1,"contact-button"],[1,"form-container"],[1,"map-section"],["src","assets/images/map.png","alt","Mapa",1,"map-preview"],[1,"location-button",3,"click"],[1,"location-icon"],[1,"form-section",3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["title","Tu nombre completo",1,"info-icon"],["type","text","id","name","formControlName","name","placeholder","Ingresa tu nombre completo"],["for","vehicle"],["title","Marca y modelo de tu veh\xEDculo",1,"info-icon"],["type","text","id","vehicle","formControlName","vehicle","placeholder","Marca y modelo de tu veh\xEDculo"],["for","plate"],["title","N\xFAmero de placa de tu veh\xEDculo",1,"info-icon"],["type","text","id","plate","formControlName","plate","placeholder","N\xFAmero de placa"],["for","location"],["title","Ubicaci\xF3n del veh\xEDculo",1,"info-icon"],["type","text","id","location","formControlName","location","placeholder","Puedes escribir aqu\xED",3,"readonly"],["for","phone"],["title","N\xFAmero de tel\xE9fono",1,"info-icon"],["type","tel","id","phone","formControlName","phone","placeholder","+58 412-351-8784"],["for","additionalInfo"],["title","Informaci\xF3n adicional",1,"info-icon"],["id","additionalInfo","formControlName","additionalInfo","placeholder","Cualquier informaci\xF3n adicional que tu proveedor necesite","rows","4"],["type","submit",1,"submit-button",3,"disabled"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"header",1)(2,"div",2),r(3,"img",3),t()(),e(4,"div",4)(5,"div",5)(6,"button",6),u("click",function(){return o.goBack()}),e(7,"span",7),i(8,"\u2190"),t(),i(9," Volver "),t(),e(10,"h2",8),i(11,"Servicio de Gr\xFAa - Llena tu informaci\xF3n"),t(),e(12,"a",9),i(13," Contacta GoCast: +00-000-0000000 "),t()(),e(14,"div",10)(15,"div",11),r(16,"img",12),e(17,"button",13),u("click",function(){return o.useCurrentLocation()}),e(18,"i",14),i(19,"\u{1F4CD}"),t(),i(20," Utilizar ubicaci\xF3n "),t()(),e(21,"form",15),u("ngSubmit",function(){return o.onSubmit()}),e(22,"div",16)(23,"label",17),i(24," Nombre "),e(25,"span",18),i(26,"\u24D8"),t()(),r(27,"input",19),t(),e(28,"div",16)(29,"label",20),i(30," Veh\xEDculo "),e(31,"span",21),i(32,"\u24D8"),t()(),r(33,"input",22),t(),e(34,"div",16)(35,"label",23),i(36," Placa "),e(37,"span",24),i(38,"\u24D8"),t()(),r(39,"input",25),t(),e(40,"div",16)(41,"label",26),i(42," Ubicaci\xF3n del veh\xEDculo a auxiliar "),e(43,"span",27),i(44,"\u24D8"),t()(),r(45,"input",28),t(),e(46,"div",16)(47,"label",29),i(48," Tel\xE9fono de contacto "),e(49,"span",30),i(50,"\u24D8"),t()(),r(51,"input",31),t(),e(52,"div",16)(53,"label",32),i(54," Mensaje adicional (max. 500 letras) "),e(55,"span",33),i(56,"\u24D8"),t()(),e(57,"textarea",34),i(58,"              "),t()(),e(59,"button",35),i(60," Pedir servicio "),t()()()()()),n&2&&(m(21),s("formGroup",o.requestForm),m(24),s("readonly",!1),m(14),s("disabled",!o.requestForm.valid))},dependencies:[h,P,M,x,_,F,y,O],styles:[".service-page[_ngcontent-%COMP%]{min-height:100vh;background-color:#3f51b5;color:#fff}.header[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 0;box-shadow:0 2px 4px #0000001a}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem}.header-logo[_ngcontent-%COMP%]{height:32px;width:auto}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.navigation-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;background:none;border:none;color:#fff;font-size:1rem;cursor:pointer}.back-icon[_ngcontent-%COMP%]{margin-right:.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400;margin:0}.contact-button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;padding:.75rem 1.5rem;border-radius:4px;text-decoration:none;font-size:.9rem}.form-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;background-color:#2c3e99;border-radius:8px;padding:2rem}.map-section[_ngcontent-%COMP%]{position:relative}.map-preview[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px}.location-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:50%;transform:translate(-50%);background-color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;display:flex;align-items:center;gap:.5rem;cursor:pointer}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem}.info-icon[_ngcontent-%COMP%]{color:#90caf9;cursor:help}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid rgba(255,255,255,.1);border-radius:4px;background-color:#ffffff1a;color:#fff;font-size:.9rem}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.submit-button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;padding:1rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;margin-top:1rem}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}"]})};export{D as ServiceRequestFormComponent};
